<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>VariaTap – Tarjeta NFC</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #6c63ff;
      --accent: #25d366;
      --text: #e9e9ef;
      --muted: #b9bbd3;
      --anim-glass: rgba(255,255,255,.06);
      --anim-screen-off: #03060f;
    }

    * { box-sizing: border-box; }
    html, body {
      margin: 0; padding: 0;
      font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--text);
      scroll-behavior: smooth;
      /* FONDO CONSISTENTE EN TODO EL SITIO */
      background: radial-gradient(1200px 800px at 80% -10%, #142050 0%, #0b1020 50%, #070b17 100%) fixed;
    }

    header { padding: 28px 18px 10px; text-align: center; }
    header img {
      width: 120px; height: auto; display: block; margin: 0 auto 10px;
      filter: drop-shadow(0 6px 16px rgba(0,0,0,0.35));
    }
    header h1 { margin: 6px 0 4px; font-weight: 800; letter-spacing: 0.2px; }
    header p { margin: 0; color: var(--muted); }

    /* ======== HERO A PANTALLA COMPLETA ======== */
    .hero-anim {
      height: 220vh;            /* Altura para permitir el recorrido del scroll */
      position: relative;
    }
    .stage {
      position: sticky; top: 0; height: 100vh;
      display: grid; place-items: center;
      perspective: 1200px; perspective-origin: 50% 50%;
      isolation: isolate;
    }

    .phone{
      position:relative; width:min(360px,80vw); height:720px; border-radius:42px;
      background:linear-gradient(145deg,#11193a,#0a0f21);
      box-shadow:0 20px 60px rgba(0,0,0,.55), inset 0 0 0 2px rgba(255,255,255,.06);
      display:grid; place-items:center; z-index:5; transform:translateZ(0);
    }
    .phone::before{
      content:""; position:absolute; top:10px; left:50%; transform:translateX(-50%);
      width:34%; height:24px; background:#0b1230; border-radius:0 0 16px 16px;
      box-shadow:inset 0 -1px 0 rgba(255,255,255,.06)
    }
    .bezel{position:absolute; inset:14px; border-radius:30px; background:var(--anim-glass); backdrop-filter:blur(6px);}

    .screen{
      position:absolute; inset:22px; border-radius:26px; overflow:hidden;
      background:var(--anim-screen-off);
      box-shadow:inset 0 0 40px rgba(0,0,0,.6);
    }
    .screen .glow{
      position:absolute; inset:0; opacity:0; transition:opacity .6s ease, filter .6s ease;
      background:
        radial-gradient(120% 120% at 50% 20%, rgba(94,225,255,.85), transparent 50%),
        radial-gradient(100% 100% at 80% 80%, rgba(124,92,255,.6), transparent 55%);
      filter:saturate(0.6) brightness(0.8);
    }
    .screen img{
      position:absolute; inset:0; width:100%; height:100%; object-fit:cover;
      opacity:0; transform:scale(1.06) translateY(6%);
      transition:opacity .6s ease .05s, transform .8s cubic-bezier(.2,.7,.2,1);
      filter:contrast(1.05) saturate(1.05);
    }
    .screen.on .glow{opacity:0.55; filter:saturate(1) brightness(1)}
    .screen.on img{opacity:1; transform:scale(1) translateY(0)}

    .anim-card{
      position:absolute; width:min(520px,84vw); aspect-ratio:5/3; border-radius:24px; overflow:hidden;
      background:linear-gradient(160deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
      box-shadow:0 30px 80px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.06);
      backdrop-filter:blur(8px);
      color:var(--text); z-index:10; left:50%; transform-style:preserve-3d;
      transform-origin:center; translate:-50% 0;
      display:flex; align-items:center; justify-content:center;
    }
    .anim-card img{ width:100%; height:100%; object-fit:cover; }

    .depth-hint{
      position:absolute; bottom:6vh; left:50%; translate:-50% 0;
      color:#a3b0c2; font-size:.95rem; opacity:.85; user-select:none
    }

    /* ======== RESPONSIVE: tarjeta y teléfono ======== */
    /* Tarjeta: reducir gradualmente en pantallas pequeñas */
    @media (max-width: 1024px){
      .anim-card{ width: min(440px, 80vw); }
    }
    @media (max-width: 768px){
      .anim-card{ width: min(380px, 76vw); }
    }
    @media (max-width: 480px){
      .anim-card{ width: min(320px, 72vw); }
    }
    @media (max-width: 360px){
      .anim-card{ width: min(290px, 70vw); }
    }

    /* Teléfono: escalar también en móviles para mantener proporciones y evitar desbordes */
    @media (max-width: 768px){
      .phone { width: min(300px, 72vw); height: 600px; }
    }
    @media (max-width: 480px){
      .phone { width: min(260px, 70vw); height: 520px; }
    }
    @media (max-width: 360px){
      .phone { width: min(230px, 68vw); height: 460px; }
    }

    @media (prefers-reduced-motion: reduce){
      .hero-anim{ height:auto }
      .stage{ position:static; height:auto }
      .anim-card{ position:relative; translate:0 0; margin:3rem auto }
    }

    /* ======== CONTENIDO INFERIOR ======== */
    .wrap { max-width: 900px; margin: 0 auto; padding: 28px 16px 48px; }
    .panel {
      background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 18px; padding: 22px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.28);
    }
    .panel h2 { margin: 0 0 8px; font-size: 1.6rem; }
    .panel p { margin: 0 0 14px; color: var(--muted); }
    .price {
      display: inline-block; font-weight: 800; font-size: 1.25rem;
      padding: 8px 14px; border-radius: 10px; color: #101217;
      background: linear-gradient(135deg, #e8f7ee, #bdf0cf); border: 1px solid #a8e6c0;
      margin-bottom: 12px;
    }

    .btnrow { display: flex; flex-wrap: wrap; gap: 10px; }
    .cta, .secondary {
      display: inline-flex; align-items: center; gap: 10px; text-decoration: none;
      padding: 14px 18px; border-radius: 14px; font-weight: 700;
      transition: transform .15s ease, box-shadow .15s ease, filter .15s ease;
    }
    .cta {
      background: var(--accent); color: #0a120e;
      box-shadow: 0 10px 24px rgba(37, 211, 102, 0.35);
    }
    .cta:hover { transform: translateY(-1px); filter: brightness(1.03); }
    .secondary {
      background: rgba(255,255,255,0.08); color: var(--text);
      border: 1px solid rgba(255,255,255,0.12);
    }
    .secondary:hover { transform: translateY(-1px); }

    .bullets { margin: 14px 0; padding-left: 18px; }
    .bullets li { margin: 6px 0; color: var(--text); }

    .example {
      margin-top: 14px; padding: 14px; border-radius: 12px;
      border: 1px dashed rgba(255,255,255,0.18);
      background: rgba(255,255,255,0.04);
      color: var(--muted); font-size: 0.95rem;
    }
    .example a { color: #b8c3ff; text-decoration: underline; }

    footer { text-align: center; padding: 28px 12px; color: var(--muted); font-size: 0.95rem; }

    /* WhatsApp flotante */
    .whatsapp-float {
      position: fixed; right: 18px; bottom: 18px;
      width: 60px; height: 60px; border-radius: 50%;
      background: var(--accent); display: grid; place-items: center;
      text-decoration: none; color: #0a120e; font-size: 28px; font-weight: 900;
      box-shadow: 0 12px 26px rgba(37,211,102,0.35);
      transition: transform .1s ease; z-index: 50;
    }
    .whatsapp-float:hover { transform: translateY(-1px); }
  </style>
  <script src="https://kit.fontawesome.com/a2e0e9c6b5.js" crossorigin="anonymous"></script>
</head>
<body>
  <header>
    <img src="variataplogofull white.png" alt="Logo VariaTap">
    <h1>VariaTap</h1>
    <p>Tarjeta NFC con tu <strong>contacto</strong> y redes sociales</p>
  </header>

  <!-- ======== HERO A PANTALLA COMPLETA ======== -->
  <section class="hero-anim" aria-label="Animación de tarjeta y celular controlada por scroll">
    <div class="stage">
      <div class="phone" aria-hidden="true">
        <div class="bezel"></div>
        <div class="screen" id="screen">
          <div class="glow" aria-hidden="true"></div>
          <img src="telefono.png" alt="Imagen en la pantalla del teléfono" />
        </div>
      </div>

      <article class="anim-card" id="animCard" aria-label="Tarjeta animada">
        <img src="tarjeta.png" alt="Imagen de la tarjeta" />
      </article>

      <div class="depth-hint">Sigue bajando ↓</div>
    </div>
  </section>
  <!-- ======== FIN HERO ======== -->

  <div class="wrap">
    <div class="panel">
      <h2>Tu tarjeta, un solo toque</h2>
      <span class="price">$499 MXN</span>
      <p>Comparte tu contacto, redes o menú con tecnología NFC. Configurala con tus <em>datos</em> (URL, teléfono, redes).</p>

      <div class="btnrow">
        <a class="cta" target="_blank"
           href="https://wa.me/5219933420511?text=Hola%20quiero%20mi%20tarjeta%20NFC%20VariaTap">
          <i class="fab fa-whatsapp"></i> Pedir por WhatsApp
        </a>
        <a class="secondary" target="_blank" rel="noopener"
           href="https://variatap.com/ejemplo/tu-nombre">
          Ver ejemplo
        </a>
      </div>

      <div class="example">
        Ejemplo del perfil al que te lleva la tarjeta:
        <a href="https://variatap.com/ejemplo/tu-nombre" target="_blank" rel="noopener">
          variatap.com/ejemplo/tu-nombre
        </a>
      </div>
    </div>
  </div>

  <footer>© 2025 VariaTap • Atención por WhatsApp</footer>

  <a class="whatsapp-float" href="https://wa.me/5219933420511?text=Hola%20me%20interesan%20sus%20tarjetas%20NFC"
     aria-label="WhatsApp" target="_blank" rel="noopener">
    <i class="fab fa-whatsapp" aria-hidden="true"></i>
  </a>

  <!-- ======== JS: animación por scroll con SHIFT_X adaptativo ======== -->
  <script>
    (function(){
      const section = document.querySelector('.hero-anim');
      const card    = document.getElementById('animCard');
      const screen  = document.getElementById('screen');

      let SHIFT_X = 0; // centrado por defecto (móvil)

      const BEHIND_AT = 0.55; // cuando la tarjeta queda detrás del teléfono
      const STOP_AT   = 0.56; // congelar animación al llegar

      let secTop = 0, secH = 0, vh = 0;

      const clamp = (v,min,max) => Math.max(min, Math.min(max, v));
      const lerp  = (a,b,t) => a + (b-a)*t;

      function updateShiftX(){
        // En desktop ancho aplicamos el desplazamiento de 400px; en móvil/tablet se centra
        SHIFT_X = window.innerWidth >= 1024 ? 400 : 180;
      }

      function measure(){
        const rect = section.getBoundingClientRect();
        secTop = window.scrollY + rect.top;
        secH = section.offsetHeight;
        vh = window.innerHeight;
        updateShiftX();
      }

      function render(){
        const y = window.scrollY;
        const raw = clamp((y - secTop) / (secH - vh), 0, 1);
        const t = Math.min(raw, STOP_AT);

        const translateYvh = lerp(-28, -8, t);
        const translateZpx = lerp(40, -160, t);
        const rotateXdeg   = lerp(6, 0, t);
        const scale        = lerp(1, 0.94, t);

        card.style.transform =
          `translate(calc(-50% + ${SHIFT_X}px), ${translateYvh}vh) translateZ(${translateZpx}px) rotateX(${rotateXdeg}deg) scale(${scale})`;

        // Z-index: detrás del teléfono cuando supera el umbral real
        card.style.zIndex = raw > BEHIND_AT ? 1 : 10;

        // Enciende la pantalla exactamente cuando la tarjeta queda detrás
        if(raw >= BEHIND_AT){
          screen.classList.add('on');
        }else{
          screen.classList.remove('on');
        }

        requestAnimationFrame(render);
      }

      window.addEventListener('resize', measure, {passive:true});
      window.addEventListener('load', measure);
      measure();
      render();
    })();
  </script>
</body>
</html>
